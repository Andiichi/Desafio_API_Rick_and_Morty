{% extends "layout.html" %}

{% block content %}
  <style>
    .scroll-section {
    max-height: 100px;
    overflow-y: auto;
  }
  </style>

  <div class="row">
      
    <div class="col-sm-3 col-6">
      <img src="{{profile.image}}" alt="{{profile.name}}" 
      class=" img-fluid img-thumbnail" />
    </div>

    <div class="col-sm-3 col-6">
   
      <h1 class="display-5">{{profile.name}}</h1>
      <h1 class="h6"> 
        Status: 
        {% if profile.status == "Dead" %}
            <span class="text-danger">{{profile.status}}</span>
        {% elif profile.status == "Alive" %}
            <span class="text-success">{{profile.status}}</span>
        {% else %}
            {{profile.status}}
        {% endif %}
      </h1>
      <h1 class="h6">Specie: {{profile.species}}</h1>
      <h1 class="h6">
        Type: 
        {% if profile.type == "" %}
            Not specified
        {% else %}
            {{profile.type}}
        {% endif %}
      </h1>
      <h1 class="h6">Gender: {{ profile.gender }}</h1>
      <h1 class="h6">Origin: {{profile.origin['name']}}</h1>
      <h1 class="h6">Location: {{profile.location['name']}}</h1>
      <br>
      <h1 class="h7">Lista de episódios:</h1>
      <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#locationModal{{ profile.id }}">
        Ver mais
      </button>
      
      <!-- Modal -->
      <div class="modal fade" id="locationModal{{ profile.id }}" tabindex="-1" aria-labelledby="locationModalLabel{{ profile.id }}" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered modal-lg modal-dialog-scrollable">
          <div class="modal-content">
            <div class="modal-header">
              <h3 class="modal-title" id="locationModalLabel{{ profile.id }}">Lista de episódios que {{ profile.name }} participa</h3>
              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
              <ol>
                  {% for resident in location.residents %}
                  <li>
                      <!-- Link para o perfil do personagem -->
                      <a href="/profile/{{ resident.id }}">Personagem: {{ resident.name }} (ID: {{ resident.id }})</a>
                  </li>
                  {% endfor %}
              </ol>
          </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Fechar</button>
            </div>
          </div>
        </div>
      </div>
 

{% endblock %}